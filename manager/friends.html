<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/d867b74fd4.js" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="logo.png" type="image">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400&display=swap" rel="stylesheet">
    <!-- google fonts -->

    <title>manager</title>


    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
            border: none;
        }

        ::-webkit-scrollbar {
            width: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background-color: blue;
        }

        .flex {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        body {
            width:calc(100vw - 5px);
            height: 100vh;
            overflow-x: hidden;
            overflow-y: auto;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            flex-direction: column;
            padding-bottom:20px;
            padding-top:70px;
        }
        .pro{
            width:100%;
            margin:10px 0;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            flex-direction: row;
            margin-top:20px;
        }
        .pro img{
            width:70px;
            height:70px;
            object-fit: cover;
            margin:0 5px;
            margin-left:10px;
            border-radius:7px;
            box-shadow:0 0 5px rgb(0,0,0,0.3);
            cursor:pointer;
        }
        .pro .name{
            width:calc(100% - 80px);
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-direction: column;
        }
        .pro .name h1,.pro .name h2{
            width:100%;
            padding-right:30px;
            margin:5px;
            text-align: right;
            font-weight:500;
            font-size:18px;
        }
        .pro .name h1{
            padding-right:0;
            padding-left:20px;
            font-weight:500;
            letter-spacing:2px;
            font-size:20px;
            text-align: left;
        }
        .nav{
            width:100%;
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-direction: row;
        }
        .nav i{
            width:25%;
            margin:10px;
            text-align:center;
            line-height:50px;
            border-bottom:2px dashed rgb(0,0,0,0.3);
            color:rgb(0,0,0,0.5);
            transition:0.6s;
            cursor:pointer;
            font-size:20px;
        }
        .nav i.active{
            color:blue;
            border-bottom:2px solid darkblue;
        }
        .sae{
            position:fixed;
            display: flex;
            justify-content:flex-start;
            align-items: center;
            flex-direction: row;
            width: 100%;
            padding:8px;
            border-bottom:3px solid blue;
            top:0px;
            background-color: white;
        }
        .sae i{
            font-size:23px;
            opacity:0.5;
            margin:0 10px;
            color:blue;
        }
        .sae input{
            font-size:15px;
            background-color:transparent;
            border:none;
            outline:none;
            padding:5px;
            padding-left:12px;
            padding-bottom:10px;
            margin:0 10px;
            letter-spacing:1px;
        }
        .sae input::placeholder{
            color:black;
        }
        #search_friends{
            position:relative;
            width: calc(100% - 10px);
            display: flex;
            justify-content: flex-start;
            align-items: center;
            flex-direction: column;
        }
        .box1{
            width:100%;
            margin:10px 0;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            flex-direction: row;
            padding-bottom:8px;
            border-bottom:2px solid rgb(0,0,0,0.1);
            cursor:pointer;
            transition:0.4s;
            transform-origin:top left;
        }
        .box1 img{
            width:60px;
            height:60px;
            object-fit: cover;
            margin:0 5px;
            margin-left:10px;
            border-radius:7px;
            box-shadow:0 0 5px rgb(0,0,0,0.3);
            cursor:pointer;
        }
        .box1 .name{
            width:calc(100% - 75px);
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-direction: column;
        }
        .box1 .name h1,.box1 .name h2{
            width:100%;
            padding-left:20px;
            margin:5px;
            text-align: left;
            font-weight:500;
            font-size:15px;
            letter-spacing:1px;
        }
        .box1 .name h1{
            font-size:18px;
        }
    </style>
</head>

<body>

   <div class="pro">
       <img src="" id="dp_img">
       <div class="name">
           <h1 id="user_name"></h1>
           <h2 id="time1"></h2>
       </div>
   </div>
   <div class="nav">
       <i class="fas fa-home " onclick="icon1(0)"></i>
       <i class="far fa-calendar-alt " onclick="icon1(1)"></i>
       <i class="fas fa-comment-alt " onclick="icon1(2)"></i>
       <i class="fas fa-user-friends active" onclick="icon1(3)"></i>
   </div>
   <div class="sae" id="search_box">
       <i class="fas fa-search"></i>
       <input type="text" id="search_f" oninput="filter1()" placeholder="search for friends">
   </div>
   <div id="search_friends">
      
<!--
       <div class='box1' onclick='select1(count)'>
           <img src='avatars/p15.png'>
           <div class='name'>
           <h1 class='search_name'>sridevi</h1>
           <h2 class='search_mail'>sridevi3322@gmail.com</h2>
           </div>
       </div>  
-->
         
   </div>
   
    <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase.js"></script>
    
    
    <script>
    var firebaseConfig = {
    apiKey: "AIzaSyARQ2BkDwc8ET4ElFTx4tv3huFGTXs75xY",
    authDomain: "network-c2f65.firebaseapp.com",
    projectId: "network-c2f65",
    storageBucket: "network-c2f65.appspot.com",
    messagingSenderId: "565713313358",
    appId: "1:565713313358:web:3935560cb111b6b83f6d1f"
    };
    firebase.initializeApp(firebaseConfig);
    
    </script>
    
    <script>
        
        var user_key = sessionStorage.getItem("kedar_chat_user_key");
        
        user_key = "P1A4UgzkoXaD9bMnObDFQoiNydg1";
        var list_frnds_search = [];
        
        firebase.database().ref('users/'+user_key).once('value',function(snapshot){
                var user_name = snapshot.val().name;
                var user_dp1 = snapshot.val().dp;
                var dp_img = document.getElementById('dp_img');
                var user_name1 = document.getElementById('user_name');
               dp_img.src = user_dp1;
               user_name1.innerHTML = user_name;
        });
        
        function icon1(a){
            var linksli = ["tasks.html","calender.html","followers.html","friends.html"];
            window.location.replace(linksli[a]);
        }
        
        function filter1(){
            var search_f = document.getElementById("search_f").value.toLowerCase();
            var search_name = document.querySelectorAll(".search_name");
            var search_mail = document.querySelectorAll(".search_mail");
            var se_box1 = document.querySelectorAll(".box1");
            for(var m = 0;m<se_box1.length;m++){
                var n1 = search_name[m].innerHTML.toLowerCase();
                var n2 = search_mail[m].innerHTML.toLowerCase();
                if(n1.includes(search_f) || n2.includes(search_f)){
                    se_box1[m].style.display = "flex";
                }else{
                    se_box1[m].style.display = "none";
                }
                if(search_f.length > 0){
                    if(n1.includes(search_f)){
                        search_name[m].style.color = "red";
                    }else{
                        search_name[m].style.color = "black";
                    }
                    if(n2.includes(search_f)){
                        search_mail[m].style.color = "red";
                    }else{
                        search_mail[m].style.color = "black";
                    }
                }else{
                    search_name[m].style.color = "black";
                    search_mail[m].style.color = "black";
                }
            }
        }
        
        function draw_f(){
            
            firebase.database().ref('users/').once('value',function(snapshot){
        
            list_frnds_search = [];
            var  count1 = 0;
                
            var search_f = document.getElementById("search_friends");
                
            search_f.innerHTML = "";
            
        snapshot.forEach(function(ChildSnapShot){
            let user_frnd_key = ChildSnapShot.val().key;
            let user_up = ChildSnapShot.val().name;
            let user_dp = ChildSnapShot.val().dp;
            let user_mail = ChildSnapShot.val().email;
            
                if (user_frnd_key != user_key){
                    
                    search_f.innerHTML += " <div class='box1' onclick='select1("+ count1 +")'><img src='"+user_dp+"'><div class='name'><h1 class='search_name'>"+ user_up +"</h1><h2 class='search_mail'>"+user_mail+"</h2></div></div>";
                }
                
                list_frnds_search.push(user_frnd_key);
                
          count1 += 1;  
            
                  });
            });
       }
        
       draw_f();
    
     function select1(a){
         var key_s = list_frnds_search[a];
         console.log(key_s);
     }
        
        setInterval(function(){
            var time1 = document.getElementById("time1");
            var hr = new Date().getHours();
            var mn = new Date().getMinutes();
            var dat = new Date().getDate();
            var day = new Date().getDay();
            var mo = new Date().getMonth();
            
            var mnli = ["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sept","Oct","Nov","Dec"];
            var dali = ["Sun","Mon","Tues","Wed","Thur","Fri","Sat"];
            
            var do1 = dali[day];
            var mo1 = mnli[mo];
            
            if (hr < 10){
                hr = "0"+hr;
            }
            if (mn < 10){
                mn = "0"+mn;
            }
            time1.innerHTML = dat + ", "+ mo1 + ", "+ do1 + " - "+ hr + " : " + mn;
            
        },1000);
        
        
    </script>
    
</body>

</html>